---

services:
  frps:
    image: snowdreamtech/frps
    container_name: frps
    cpus: 0.5
    mem_limit: 200m
    ports:
      - ${FRPS_SERVER_PORT}:${FRPS_SERVER_PORT}
      - "${FRPS_RANGE_PORTS_1_START}-${FRPS_RANGE_PORTS_1_END}:${FRPS_RANGE_PORTS_1_START}-${FRPS_RANGE_PORTS_1_END}/tcp"
      - ${FRPS_DASHBOARD_PORT}:${FRPS_DASHBOARD_PORT}
    env_file:
      - .env
    volumes:
      - ./config-frps:/etc/frp
      - {{ cert_location_root_path }}:/etc/frp/certs:ro
    networks:
      - {{ docker_vpn_network }}
    restart: unless-stopped

networks:
  {{ docker_vpn_network }}:
    external: true
